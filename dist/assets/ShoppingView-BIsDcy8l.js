import{e as s,E as t,H as e,W as i,G as a,c as n,aa as o,u as p,z as l,K as c,_ as d,F as r,ab as v,J as m,a9 as u}from"./vue-vendor-DpnofNfo.js";import{useShoppingStore as _}from"./shopping.store-B2-i-A-2.js";import{A as g}from"./AddShoppingList-ClhPktd5.js";import{_ as h,a as L}from"./index-kUCeoXe8.js";import{c as y}from"./utils-CfCBEYwL.js";import{P as f}from"./PageHeader-BCBBA5by.js";import{E as j}from"./EmptyState-DmADnuFN.js";import"./SideDrawer.vue_vue_type_style_index_0_lang-CbuBtalK.js";import"./variables.styles-BivaIJLK.js";import"./toast.store-D86bTs2s.js";import"./firebase-vendor-B7qOPrSY.js";import"./vuetify-vendor-BWjtgv5e.js";const k={class:"shopping-summary"},b={class:"shopping-summary__card"},S={class:"stat-content"},I={class:"stat-value"},C={class:"shopping-summary__card"},O={class:"stat-content"},A={class:"stat-value"},w=h(s({__name:"ShoppingSummary",props:{unconvertedCount:{},totalItems:{}},setup:s=>(s,n)=>(a(),t("div",k,[e("div",b,[e("div",S,[n[0]||(n[0]=e("div",{class:"stat-label"},"Listas activas",-1)),e("div",I,i(s.unconvertedCount),1)])]),e("div",C,[e("div",O,[n[1]||(n[1]=e("div",{class:"stat-label"},"Total items",-1)),e("div",A,i(s.totalItems),1)])])]))}),[["__scopeId","data-v-62913e26"]]),x={class:"shopping-list-card__content"},E={class:"shopping-list-card__info"},$={class:"shopping-list-card__name"},z={class:"shopping-list-card__meta"},H={key:0,class:"shopping-list-card__items"},P={class:"shopping-list-card__badges"},T={key:0,class:"badge converted"},B={key:1,class:"badge progress"},D={class:"shopping-list-card__actions"},F=h(s({__name:"ShoppingListItem",props:{shoppingList:{}},emits:["open"],setup(s,{emit:r}){const v=s,m=r,u=()=>{m("open",v.shoppingList)},_=n((()=>v.shoppingList.items.filter((s=>s.checked)).length)),g=n((()=>v.shoppingList.items.filter((s=>!s.checked)).reduce(((s,t)=>s+((t.amount??t.estimatedAmount)||0)),0)));return(s,n)=>(a(),t("div",{class:"shopping-list-card",onClick:u},[e("div",x,[e("div",E,[e("p",$,i(s.shoppingList.name),1),e("div",z,[g.value>0?(a(),t("span",H," Total: "+i(p(y)(g.value)),1)):o("",!0)])]),e("div",P,[s.shoppingList.converted?(a(),t("span",T," Convertido ")):o("",!0),_.value>0?(a(),t("span",B,i(_.value)+"/"+i(s.shoppingList.items.length),1)):o("",!0)])]),e("div",D,[l(L,{size:"24",color:"#6faeaa"},{default:c((()=>n[0]||(n[0]=[d("mdi-chevron-right")]))),_:1})])]))}}),[["__scopeId","data-v-200ab1e9"]]),G={key:0,class:"shopping-list__section"},J={key:1,class:"shopping-list__section"},K=h(s({__name:"ShoppingList",props:{unconvertedLists:{},convertedLists:{}},emits:["open"],setup:s=>(s,i)=>(a(),t("div",null,[s.unconvertedLists.length>0?(a(),t("div",G,[i[0]||(i[0]=e("h3",{class:"shopping-list__section-title"},"Activas",-1)),(a(!0),t(r,null,v(s.unconvertedLists,(t=>(a(),m(F,{key:t.id,"shopping-list":t,onOpen:e=>s.$emit("open",t)},null,8,["shopping-list","onOpen"])))),128))])):o("",!0),s.convertedLists.length>0?(a(),t("div",J,[i[1]||(i[1]=e("h3",{class:"shopping-list__section-title"},"Convertidas a gastos",-1)),(a(!0),t(r,null,v(s.convertedLists,(t=>(a(),m(F,{key:t.id,"shopping-list":t,onOpen:e=>s.$emit("open",t)},null,8,["shopping-list","onOpen"])))),128))])):o("",!0)]))}),[["__scopeId","data-v-5f078df5"]]),N={class:"shopping"},R={class:"shopping__content"},V={class:"shopping__summary-content"},W={class:"shopping__lists"},q=h(s({__name:"ShoppingView",setup(s){const i=u(),o=_(),c=n((()=>o.unconvertedLists)),d=n((()=>o.convertedLists)),r=n((()=>c.value.length)),v=n((()=>o.shoppingLists.reduce(((s,t)=>s+t.items.length),0))),h=s=>{i.push(`/compras/${s.id}`)};return(s,i)=>(a(),t("div",N,[l(f,{title:"Listas de compras"}),e("div",R,[e("div",V,[l(w,{"unconverted-count":r.value,"total-items":v.value},null,8,["unconverted-count","total-items"])]),e("div",W,[0===p(o).shoppingLists.length?(a(),m(j,{key:0,message:"No hay listas de compras"})):(a(),m(K,{key:1,"unconverted-lists":c.value,"converted-lists":d.value,onOpen:h},null,8,["unconverted-lists","converted-lists"]))])]),l(g,{ref:"addShoppingRef"},null,512)]))}}),[["__scopeId","data-v-e26cd49e"]]);export{q as default};
