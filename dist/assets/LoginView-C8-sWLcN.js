import{D as s,A as a,E as e,_ as t}from"./index-COJKv5OF.js";import{B as i,m as o,G as r,s as n,n as c,p as l,z as g}from"./firebase-vendor-WorOZ4yf.js";import{c as u}from"./config.service-BNV0N1DJ.js";import{e as m,l as d,E as p,H as f,_ as w,G as h}from"./vue-vendor-DpnofNfo.js";import"./vuetify-vendor-BWjtgv5e.js";const v=o(s),y=new r,b=c(s),j={class:"login-container"},I=t(m({__name:"LoginView",setup(s){const t=a(),o=async()=>{try{t.setLoading(!0);const s=await(async()=>{try{const s=(await i(v,y)).user,a=n(b,"users",s.uid);return(await l(a)).exists()||(await g(a,{uid:s.uid,email:s.email,displayName:s.displayName,photoURL:s.photoURL,createdAt:new Date}),localStorage.setItem("user",JSON.stringify(s))),s}catch(s){throw s}})();t.setUser(s),localStorage.setItem("user",JSON.stringify(s)),e.push("/")}catch(s){t.setLoading(!1),alert("Error al iniciar sesión")}};return d((async()=>{if(localStorage.getItem("user")){const s=u.getLastPage();e.push(s)}})),(s,a)=>(h(),p("div",j,[f("div",{class:"login-card"},[a[1]||(a[1]=f("h1",null,"Gestor Financiero",-1)),a[2]||(a[2]=f("p",null,"Iniciar sesión",-1)),f("button",{class:"google-btn",onClick:o},a[0]||(a[0]=[f("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google"},null,-1),w(" Inicia con Google ")]))])]))}}),[["__scopeId","data-v-b2fad41b"]]);export{I as default};
