import{C as e}from"./CategoryManager-D7qa0U1T.js";import{P as t}from"./PageHeader-CrJHE2kg.js";import{c as s}from"./config.service-BNV0N1DJ.js";import{N as a,C as o,A as l}from"./CardCreditCard-kq6DV8UY.js";import{u as r,A as i,a as n,b as c}from"./accounts.store-DnWlOUTl.js";import{e as u,b as d,j as p,E as m,H as _,F as v,ab as f,u as y,J as b,aa as j,G as w,l as C,z as h,K as V,_ as g,A as k,I as A,$ as x}from"./vue-vendor-CQiCTXSV.js";import{_ as F,y as I,u as T,w as E,V as L}from"./index-B8_2VSAt.js";import{_ as S}from"./Filter.icon.vue_vue_type_script_setup_true_lang-BzGB1Xxc.js";import"./TooltipFabButton-b2xD74gm.js";import"./variables.styles-BivaIJLK.js";import"./Trash.icon.vue_vue_type_script_setup_true_lang-Bc4luGY3.js";import"./categories.store-BqL_PuBd.js";import"./utils-alPBo_3K.js";import"./Check.icon-4r9bBqiE.js";import"./Close.icon-DbROFqjB.js";import"./useConfirm-CZf65iGa.js";import"./toast.store-B6Krs2RE.js";import"./SideDrawer.vue_vue_type_style_index_0_lang-nwQX6nvo.js";import"./expenses.store-C3AC9yTf.js";import"./firebase-vendor-B7qOPrSY.js";import"./vuetify-vendor-D6hAMkrv.js";const B={class:"carousel-wrapper"},U={class:"carousel carousel--list",ref:"carouselRef",tabindex:"0"},P=F(u({__name:"CardCarousel",setup(e){const t=r(),s=d(0),l=d(0),n=d([]);return p((()=>t.filteredAccounts),(()=>{(()=>{const e=n.value[s.value];if(e){const t=e.parentElement?.parentElement,a=t?.clientWidth??0,o=e.offsetLeft,r=e.offsetWidth;0===s.value?l.value=0:l.value=o-(a-r)/2}t.setCurrentIndexAccount(s.value)})()}),{immediate:!0,deep:!0}),(e,s)=>(w(),m("div",B,[_("div",U,[(w(!0),m(v,null,f(y(t).filteredAccounts,(e=>(w(),m("div",{class:"carousel__item",ref_for:!0,ref_key:"cardRefs",ref:n},[e.type===y(i).normal?(w(),b(a,{key:0,account:e},null,8,["account"])):e.type===y(i).TC?(w(),b(o,{key:1,account:e},null,8,["account"])):j("",!0)],512)))),256))],512)]))}}),[["__scopeId","data-v-48d2d6e0"]]),z={class:"sort-filter"},H={class:"sort-filter__search"},M={class:"sort-filter__filters"},R={class:"sort-filter__actions"},W=F(u({__name:"SortFilter",setup(e){C((()=>{t.clearFilters()}));const t=r(),s=[{type:"all",label:"Todos"},...n],a=d(!1);return(e,o)=>{const l=A("SearchIcon");return w(),m("div",z,[_("div",H,[h(I,{modelValue:a.value,"onUpdate:modelValue":o[4]||(o[4]=e=>a.value=e),"close-on-content-click":!1},{activator:V((({props:e})=>[_("div",k({class:"sort-filter__icon"},e),[h(S)],16)])),default:V((()=>[_("div",M,[h(E,{modelValue:y(t).selectedType,"onUpdate:modelValue":o[0]||(o[0]=e=>y(t).selectedType=e),items:s,"item-title":"label","item-value":"type",label:"Filtro por tipo cuenta","return-object":!1,class:"general-input",density:"comfortable"},null,8,["modelValue"]),h(E,{modelValue:y(t).sortBy,"onUpdate:modelValue":o[1]||(o[1]=e=>y(t).sortBy=e),items:y(c),"item-title":"label","item-value":"filter",label:"Ordenar por",class:"general-input",density:"comfortable"},null,8,["modelValue","items"]),_("div",R,[h(L,{onClick:o[2]||(o[2]=e=>a.value=!1),type:"button",class:"btn-label"},{default:V((()=>o[6]||(o[6]=[g(" Cerrar ")]))),_:1}),h(L,{onClick:o[3]||(o[3]=e=>(t.clearFilters(),void(a.value=!1))),type:"button",class:"btn-label primary"},{default:V((()=>o[7]||(o[7]=[g(" Limpiar ")]))),_:1})])])])),_:1},8,["modelValue"]),h(T,{class:"search-input",modelValue:y(t).search,"onUpdate:modelValue":o[5]||(o[5]=e=>y(t).search=e),label:"Buscar por nombre",density:"compact"},{prepend:V((()=>[h(l)])),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-50ecf4d3"]]);const q={class:"accounts"},D={class:"accounts__bar"},G=F(u({__name:"AccountsView",setup:a=>(s.saveLastPage("/cuentas"),C((()=>{window.history.pushState(null,"",window.location.href);const e=()=>{window.history.pushState(null,"",window.location.href)};window.addEventListener("popstate",e),x((()=>{window.removeEventListener("popstate",e)}))})),(s,a)=>(w(),m("div",q,[h(t,{title:"Mis cuentas"},{actions:V((()=>[h(e)])),_:1}),_("div",null,[_("div",D,[h(W),h(l)]),h(P)])])))}),[["__scopeId","data-v-ecc2287f"]]);export{G as default};
